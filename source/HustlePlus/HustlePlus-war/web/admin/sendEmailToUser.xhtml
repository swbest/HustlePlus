<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Mail Sender</title>
    </h:head>
    <h:body style="background-image: url('http://localhost:8080/HustlePlus-war/resources/img/website-login-background-3.jpg');">

        <p:panel header="Send Email" style=" font-size: large">
            <h:form id="sendEmail">
                <p:growl>
                    <p:autoUpdate/>
                </p:growl>
                <h:messages/>
                <p:panelGrid>


                    <p:row>
                        <p:column>
                            <p:outputLabel for="emailTo" value="To: " />
                        </p:column>
                        <p:column>
                            <p:inputText id="emailTo" value="#{emailManagedBean.toMail}" required="true" requiredMessage="Email of Receiver is required" />
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column>
                            <p:outputLabel for="subject" value="Subject " />
                        </p:column>
                        <p:column>
                            <p:inputText id="subject" value="#{emailManagedBean.subject}" required="true" requiredMessage="Subject is required"/>
                        </p:column>
                    </p:row>


                    <p:row>
                        <p:column>
                            <p:outputLabel for="content" value="Message: " />
                        </p:column>
                        <p:column>
                            <p:textEditor id="content" value="#{emailManagedBean.message}" height="200" style="margin-bottom:10px; margin-top:10px; width: 500px; background-color: white; color: black;" required="true" requiredMessage="Message is required">
                                <f:facet name="toolbar">
                                    <span class="ql-formats">
                                        <button class="ql-bold"></button>
                                        <button class="ql-italic"></button>
                                        <button class="ql-underline"></button>
                                        <button class="ql-strike"></button>
                                    </span>

                                </f:facet>
                            </p:textEditor>
                        </p:column>
                    </p:row>


                    <p:row>
                        <p:column>
                            <p:commandButton immediate="true" value="Back" action="/index.xhtml?faces-redirect=true"/>
                        </p:column>
                        <p:column>
                            <p:commandButton value="Send Email" ajax="false" action="#{emailManagedBean.sendEmailToUser}"/>
                        </p:column>                    
                    </p:row>



                </p:panelGrid>

            </h:form>




        </p:panel>



    </h:body>
</ui:composition>