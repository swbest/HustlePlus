<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <section id="mainmenu" class="mainmenu">
        <h2>Menu</h2>
        <nav>
            <h:form rendered="#{sessionScope.userEntity.accessRightEnum == 'COMPANY'}">
                    
                <p:menubar style="border-style: none">
                        <p:menuitem value="Home" outcome="/index" icon="fa fa-home" />
                        <p:separator/>
                        <p:submenu label="Search" icon="fa fa-search">
                            <p:menuitem value="For Students" outcome="/companies/searchStudentsByName.xhtml" />
                            <p:separator />
                            <p:menuitem value="For Companies" outcome="/companies/searchCompaniesByName.xhtml" />
                            <p:separator />
                            <p:menuitem value="For Projects" outcome="/companies/searchProjectsByName.xhtml" />
                        </p:submenu>
                        <p:separator/>
                        <p:submenu label="Filter" icon="fa fa-filter">
                            <p:menuitem value="Students by Skills" outcome="/companies/filterStudentsBySkills.xhtml" />
                            <p:separator />
                            <p:menuitem value="Companies by Rating" outcome="/companies/filterCompaniesByRating.xhtml"/>
                            <p:separator />
                            <p:menuitem value="Projects by Company" outcome="/companies/filterProjectsByCompany.xhtml"/>
                        </p:submenu>
                        <p:separator/>
                        <p:submenu label="Projects" icon="fa fa-project">
                            <p:menuitem value="Create New Project" actionListener="#{companyManagementManagedBean.checkIfVerified}" >
                            <f:attribute name="checkCompany"  value="#{sessionScope.userEntity}"/>
                            </p:menuitem>
                            <p:menuitem value="Milestone Management" outcome="/companies/milestoneManagement.xhtml" action="#{milestoneManagementManagedBean.retrieveMilestonesForCompany}">
                                <f:setPropertyActionListener target="#{milestoneManagementManagedBean.selectedMilestoneCompany}" value="#{sessionScope.userEntity}"/>
                            </p:menuitem> 
                           <p:menuitem value="Project Management" outcome="/companies/projectManagement.xhtml">
                               <f:attribute name="companyToView" value="#{sessionScope.userEntity}"/>
                           </p:menuitem>
                           <p:menuitem value="Skill Management" outcome="/companies/skillManagement.xhtml">
                               <f:attribute name="skillToView" value="#{sessionScope.userEntity}"/>
                           </p:menuitem>                               
                           <p:menuitem value="Add a Skill" outcome="/companies/addASkill.xhtml"/> 
                           <p:menuitem value="Create New Milestone" outcome="/companies/createNewMilestone.xhtml"/> 
                        </p:submenu>
                        <p:separator/>
                        <p:menuitem value="View Profile" outcome="/companies/profilePage.xhtml" />
                        <p:separator/>
                        <p:menuitem value="Logout" actionListener="#{loginManagedBean.logout}" icon="fa fa-sign-out" rendered="#{sessionScope.isLogin == true}" />
                </p:menubar>

            </h:form>
            <h:form rendered="#{sessionScope.userEntity.accessRightEnum == 'ADMIN'}">
                <p:menubar>
                        <p:menuitem value="Home" outcome="/index" icon="fa fa-home" />
                        <p:separator/>
                        <p:submenu label="Search" icon="fa fa-search">
                            <p:menuitem value="For Students" outcome="/companies/searchStudentsByName.xhtml" />
                            <p:separator />
                            <p:menuitem value="For Companies" outcome="/companies/searchCompaniesByName.xhtml" />
                            <p:separator />
                            <p:menuitem value="For Projects" outcome="/companies/searchProjectsByName.xhtml" />
                        </p:submenu>
                        <p:separator/>
                        <p:submenu label="Filter" icon="fa fa-filter">
                            <p:menuitem value="Students by Skills" outcome="/companies/filterStudentsBySkills.xhtml" />
                            <p:separator />
                            <p:menuitem value="Companies by Rating" outcome="/companies/filterCompaniesByRating.xhtml"/>
                            <p:separator />
                            <p:menuitem value="Projects by Company" outcome="/companies/filterProjectsByCompany.xhtml"/>
                        </p:submenu>
                        <p:separator/>
                        <p:menuitem value="Verify Company" outcome="/admin/verifyCompany.xhtml"/>
                        <p:separator/>
                        <p:menuitem value="Logout" actionListener="#{loginManagedBean.logout}" icon="fa fa-sign-out" rendered="#{sessionScope.isLogin == true}" />
                </p:menubar>
            </h:form>
            
        </nav>
            
    </section>

</ui:composition>
